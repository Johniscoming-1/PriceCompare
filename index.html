<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
<title>å†å¼€ä¸€æ‰‡é—¨</title>
<style>
html,body{
    margin:0;
    padding:0;
    background:#0b0b0f;
    height:100%;
    display:flex;
    justify-content:center;
    align-items:center;
    font-family:"Segoe UI",sans-serif;
    color:#fff;
}
#game{
    width:100%;
    max-width:420px;
    text-align:center;
}
h1{
    font-size:24px;
    margin-bottom:10px;
}
#score{
    opacity:0.8;
    margin-bottom:20px;
}
.doors{
    display:flex;
    gap:16px;
    justify-content:center;
}
.door{
    width:100px;
    height:160px;
    background:#1a1a22;
    border-radius:12px;
    display:flex;
    justify-content:center;
    align-items:center;
    font-size:48px;
    cursor:pointer;
    transition:transform 0.15s, background 0.15s;
}
.door:hover{
    transform:scale(1.05);
}
.safe{
    background:#1f6f5f;
}
.bomb{
    background:#8b1e1e;
}
#msg{
    margin-top:20px;
    font-size:18px;
}
button{
    margin-top:15px;
    padding:10px 20px;
    font-size:16px;
    border:none;
    border-radius:8px;
    background:#00ffb0;
    cursor:pointer;
}
</style>
</head>

<body>
<div id="game">
    <h1>å†å¼€ä¸€æ‰‡é—¨</h1>
    <div id="score">å½“å‰è¿å¯¹ï¼š0 ï½œ æœ€é«˜ï¼š0</div>
    <div class="doors">
        <div class="door">ğŸšª</div>
        <div class="door">ğŸšª</div>
        <div class="door">ğŸšª</div>
    </div>
    <div id="msg"></div>
</div>

<script>
const doors = document.querySelectorAll(".door");
const scoreEl = document.getElementById("score");
const msg = document.getElementById("msg");

let score = 0;
let best = Number(localStorage.getItem("bestDoor") || 0);
let bombIndex = -1;
let playing = true;

function newRound(){
    playing = true;
    bombIndex = Math.floor(Math.random()*3);
    doors.forEach(d=>{
        d.className="door";
        d.textContent="ğŸšª";
    });
    scoreEl.textContent = `å½“å‰è¿å¯¹ï¼š${score} ï½œ æœ€é«˜ï¼š${best}`;
    msg.textContent = "";
}

doors.forEach((door,i)=>{
    door.onclick = ()=>{
        if(!playing) return;
        playing = false;

        if(i === bombIndex){
            door.classList.add("bomb");
            door.textContent="ğŸ’£";
            msg.textContent="ğŸ’¥ ä½ åˆšåˆšæœ¬å¯ä»¥åœçš„";
            best = Math.max(best, score);
            localStorage.setItem("bestDoor", best);
            score = 0;
        }else{
            door.classList.add("safe");
            door.textContent="âœ¨";
            score++;
            setTimeout(newRound, 450);
        }
    }
});

newRound();
</script>
</body>
</html>
